---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import ServiceCard from '../components/ServiceCard.astro';
import { HeroCircle } from '../components/HeroCircle';
---

<Layout title="Jorge Cabrera - Desarrollo Fullstack & UX">
  <Navbar />
  
  <!-- Hero Section: solo el c√≠rculo -->
  <section id="intro" class="relative min-h-screen flex items-center justify-center pt-20">
    <HeroCircle client:load />
  </section>

  <!-- Hero Content: storytelling -->
  <section id="story" class="py-20 bg-[#F5F5F5] rounded-3xl">
    <div class="container mx-auto px-6 text-center">
      <h1 class="hero-title mb-12">
        <span class="hero-main">Soluciones digitales</span><br/>
        <span class="hero-secondary">para un mundo din√°mico</span>
      </h1>
      <a href="#journey" class="scroll-down-indicator inline-block" aria-label="Scroll down">
        <span></span>
      </a>
    </div>
  </section>

  <style>
    .scroll-down-indicator {
      display: block;
      width: 24px;
      height: 24px;
      margin: 32px auto 0;
      position: relative;
      text-decoration: none;
    }

    .scroll-down-indicator span {
      position: absolute;
      top: 0;
      left: 50%;
      width: 20px;
      height: 20px;
      margin-left: -10px;
      border-left: 2px solid #888;
      border-bottom: 2px solid #888;
      transform: rotate(-45deg);
      animation: bounce-arrow 2s infinite;
      box-sizing: border-box;
      transition: border-color 0.3s;
    }

    .scroll-down-indicator:hover span {
      border-color: #b80000;
      animation-play-state: paused;
    }

    @keyframes bounce-arrow {
      0%, 20%, 50%, 80%, 100% {
        transform: translateY(0) rotate(-45deg);
      }
      40% {
        transform: translateY(8px) rotate(-45deg);
      }
      60% {
        transform: translateY(4px) rotate(-45deg);
      }
    }

    /* Timeline header responsive fix */
    .journey-section h2 {
      word-wrap: break-word;
      overflow-wrap: break-word;
      hyphens: auto;
      max-width: 100%;
    }

    @media (max-width: 640px) {
      .journey-section h2 {
        font-size: clamp(1.5rem, 5vw, 1.875rem);
        padding: 0 0.5rem;
      }
      
      .case-study-title {
        font-size: clamp(1.5rem, 6vw, 1.875rem) !important;
        padding: 0 0.5rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      
      .advantage-title {
        font-size: clamp(1.5rem, 6vw, 2rem) !important;
        padding: 0 0.5rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
      
      .contact-title {
        font-size: clamp(1.5rem, 6vw, 1.875rem) !important;
        padding: 0 0.5rem;
        word-wrap: break-word;
        overflow-wrap: break-word;
      }
    }
  </style>

  <!-- Journey / Timeline Section - Mi Metodolog√≠a -->
  <section id="journey" class="journey-section mb-16">
    <div class="container mx-auto px-4 sm:px-6">
      <h2 class="text-2xl xs:text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-bold text-center mb-12 sm:mb-16 md:mb-20 text-white leading-tight">
        üî¥ Mi Proceso de Transformaci√≥n
      </h2>
      
      <div class="timeline">
        <!-- Item 1: Entiendo -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img 
              src="/img/caos_to_order.jpg" 
              alt="Del caos al orden - Proceso de entendimiento"
              class="w-full h-64 object-cover rounded-2xl"
            />
          </div>
          <div class="timeline-content">
            <h3>üîç Entiendo</h3>
            <p>Mapeo procesos reales, detecto cuellos de botella y encuentro oportunidades de digitalizaci√≥n. <strong>No dise√±o soluciones sin entender primero el problema real.</strong></p>
          </div>
        </div>
        
        <!-- Item 2: Dise√±o -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img 
              src="/img/diseno_ux.jpg" 
              alt="Dise√±o UX - Arquitectura de la experiencia"
              class="w-full h-64 object-cover rounded-2xl"
            />
          </div>
          <div class="timeline-content">
            <h3>üé® Dise√±o</h3>
            <p>Creo interfaces intuitivas que se adaptan al flujo de trabajo real de los usuarios. <strong>El dise√±o no es decoraci√≥n, es arquitectura de la experiencia.</strong></p>
          </div>
        </div>
        
        <!-- Item 3: Ejecuto -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img 
              src="/img/stack_tecnologico.jpg" 
              alt="Stack tecnol√≥gico - React, TypeScript, Supabase"
              class="w-full h-64 object-cover rounded-2xl"
            />
          </div>
          <div class="timeline-content">
            <h3>‚öôÔ∏è Ejecuto</h3>
            <p>Desarrollo soluciones robustas, escalables y listas para producci√≥n con stack moderno: React, TypeScript, Supabase y PostgreSQL. <strong>Del prototipo al producto funcional.</strong></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Servicios - Bento Box Asim√©trico -->
  <section class="py-20 bg-[#F5F5F5] rounded-3xl mb-16">
    <div class="container mx-auto px-6">
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-black font-['Syne'] text-center mb-4 text-[#111] leading-tight px-2">
        üî¥ Servicios
      </h2>
      <p class="text-xl text-neutral-600 text-center mb-16 max-w-2xl mx-auto">
        Cubro todo el ciclo de vida del producto, desde la idea hasta el despliegue
      </p>
      
      <div class="services-bento max-w-6xl mx-auto">
        <!-- Servicio Destacado - Desarrollo Fullstack (Izquierda Grande) -->
        <div class="service-featured">
          <div class="text-6xl mb-6">‚ö°</div>
          <h3 class="text-3xl font-bold font-['Poppins'] mb-4 text-white">Desarrollo Fullstack a Medida</h3>
          <p class="text-white/90 text-lg leading-relaxed">
            Arquitecturas modernas y escalables con <strong>React, Node, Supabase y PostgreSQL</strong>. 
            Soluciones llave en mano dise√±adas espec√≠ficamente para las reglas de tu industria.
          </p>
          <div class="mt-6 flex flex-wrap gap-2">
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm text-white">React</span>
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm text-white">TypeScript</span>
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm text-white">Supabase</span>
            <span class="px-3 py-1 bg-white/20 rounded-full text-sm text-white">PostgreSQL</span>
          </div>
        </div>
        
        <!-- Servicio Secundario 1 - UX (Derecha Superior) -->
        <div class="service-secondary service-secondary-1">
          <div class="text-4xl mb-4">üîç</div>
          <h3 class="text-xl font-bold font-['Poppins'] mb-3 text-white">Consultor√≠a UX y Diagn√≥stico</h3>
          <p class="text-white/90 leading-relaxed">
            Utilizo metodolog√≠as de Design Thinking para mapear procesos reales y encontrar oportunidades de digitalizaci√≥n.
          </p>
        </div>
        
        <!-- Servicio Secundario 2 - Digitalizaci√≥n (Derecha Inferior) -->
        <div class="service-secondary service-secondary-2">
          <div class="text-4xl mb-4">üöÄ</div>
          <h3 class="text-xl font-bold font-['Poppins'] mb-3 text-white">Digitalizaci√≥n de Procesos</h3>
          <p class="text-white/90 leading-relaxed">
            Transformaci√≥n de flujos de trabajo an√°logos en ecosistemas digitales inmutables. Especialidad en integridad de datos.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Case Study - Grid Asim√©trico -->
  <section class="py-20 mb-16">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="text-center mb-12">
        <h2 class="case-study-title text-2xl xs:text-3xl sm:text-4xl md:text-5xl font-black font-['Syne'] mb-4 text-[#111] leading-tight">
          üî¥ Caso de √âxito
        </h2>
      </div>
      
      <div class="case-study-bento max-w-6xl mx-auto">
        <!-- Imagen Grande (Izquierda) -->
        <div class="bento-image">
          <img src="/img/Stock_d&r.png" alt="Stock Importadora D&R" class="w-full h-full object-cover rounded-2xl">
        </div>
        
        <!-- Contenido (Derecha Superior) -->
        <div class="bento-content">
          <h3 class="text-3xl md:text-4xl font-['Syne'] font-bold mb-3 text-[#111]">Importadora D&R</h3>
          <p class="text-lg text-neutral-600 leading-relaxed">
            <strong class="text-[#b80000]">Del caos al orden:</strong> Soluci√≥n ERP que elimin√≥ los descuadres de inventario
          </p>
        </div>
        
        <!-- M√©tricas (Derecha Inferior) -->
        <div class="bento-metric">
          <div class="text-4xl font-black text-[#b80000] mb-1">100%</div>
          <div class="text-sm text-neutral-600 font-semibold">Precisi√≥n</div>
        </div>
        
        <div class="bento-metric">
          <div class="text-4xl font-black text-[#b80000] mb-1">80%</div>
          <div class="text-sm text-neutral-600 font-semibold">Eficiencia</div>
        </div>
        
        <div class="bento-metric">
          <div class="text-4xl font-black text-[#b80000] mb-1">&lt;2s</div>
          <div class="text-sm text-neutral-600 font-semibold">Carga</div>
        </div>
      </div>
      
      <!-- CTA Centrado -->
      <div class="text-center mt-8">
        <a 
          href="/proyectos/importadora-dr" 
          class="inline-flex items-center gap-2 px-8 py-4 bg-[#b80000] text-white font-semibold rounded-full transition-all hover:bg-[#8b0000] hover:scale-105 shadow-lg hover:shadow-xl"
        >
          Ver Caso Completo
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Advantage Section -->
  <section class="py-20 bg-[#F5F5F5] rounded-3xl mb-16">
    <div class="container mx-auto px-4 sm:px-6 text-center">
      <h2 class="advantage-title">
        <span class="word-wrapper"><span class="word">üí™</span></span>
        <span class="word-wrapper"><span class="word"> Mi</span></span>
        <span class="word-wrapper"><span class="word"> background</span></span>
        <span class="word-wrapper"><span class="word"> es</span></span>
        <span class="word-wrapper"><span class="word"> mi</span></span>
        <span class="word-wrapper"><span class="word word-accent"> superpoder</span></span>
      </h2>
    </div>
  </section>

  <!-- Contact Section -->
  <section id="contacto" class="py-20 bg-gradient-to-br from-[#2a2a2a] to-[#111111] rounded-3xl mb-16">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="contact-title text-2xl xs:text-3xl sm:text-4xl md:text-5xl font-black font-['Syne'] mb-6 text-[#FAF9F6] leading-tight">
          üî¥ Hablemos
        </h2>
        <p class="text-xl text-[#d1d1d1] mb-12 max-w-2xl mx-auto leading-relaxed font-['Poppins']">
          No solo dise√±o. Resuelvo problemas.<br/>
          Con la l√≥gica de un gestor y la empat√≠a de un profesor.<br/>
          Hablemos de tu pr√≥ximo proyecto.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="https://mail.google.com/mail/?view=cm&fs=1&to=jcabreralabbe@gmail.com&su=Consulta%20sobre%20proyecto%20web&body=Hola%20Jorge%2C%0A%0AVisit%C3%A9%20tu%20portafolio%20y%20me%20gustar%C3%ADa%20conversar%20sobre%20un%20proyecto.%0A%0AMi%20nombre%3A%0AMi%20empresa%2Fproyecto%3A%0AQu%C3%A9%20necesito%3A%0A%0ASaludos" 
            target="_blank"
            rel="noopener noreferrer"
            class="px-8 py-4 border-2 border-[#FAF9F6] text-[#FAF9F6] font-semibold rounded-full transition-all hover:bg-[#b80000] hover:border-[#b80000] hover:scale-105 no-underline"
          >
            Email
          </a>
          <a 
            href="https://linkedin.com/in/jorge-cabrera-ux" 
            target="_blank"
            rel="noopener noreferrer"
            class="px-8 py-4 border-2 border-[#FAF9F6] text-[#FAF9F6] font-semibold rounded-full transition-all hover:bg-[#b80000] hover:border-[#b80000] hover:scale-105 no-underline"
          >
            LinkedIn
          </a>
        </div>
      </div>
    </div>
  </section>

  <Footer />

  <script>
    // Animaciones de scroll para timeline items
    document.addEventListener('DOMContentLoaded', () => {
      const timelineItems = document.querySelectorAll('.timeline-item');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      
      timelineItems.forEach(item => {
        observer.observe(item);
      });

      // Efecto de rotaci√≥n del t√≠tulo al hacer scroll
      const heroMain = document.querySelector('.hero-main');
      const heroSecondary = document.querySelector('.hero-secondary');
      
      if (heroMain && heroSecondary) {
        window.addEventListener('scroll', () => {
          const scrollY = window.scrollY;
          const rotation = Math.min(scrollY / 20, 15);
          document.documentElement.style.setProperty('--scroll-rotation', `${rotation}`);
        });
      }
    });
  </script>
</Layout>
