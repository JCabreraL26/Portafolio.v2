---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { InventoryScanner } from '../../components/InventoryScanner';
---

<Layout 
  title="Caso de √âxito: Importadora D&R - Jorge Cabrera"
  description="Soluci√≥n ERP que elimin√≥ los descuadres de inventario. Del caos al orden con tecnolog√≠a moderna."
>
  <Navbar />
  
  <!-- Hero con efecto Scanner de Inventario -->
  <section class="relative min-h-[75vh] flex items-center justify-center overflow-hidden pt-20 pb-12 bg-[#FAF9F6]">
    <!-- Scanner de Inventario Animado -->
    <InventoryScanner client:load />
    
    <div class="container mx-auto px-4 sm:px-6 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-['Syne'] font-extrabold mb-6 text-[#111] leading-tight">
          Importadora D&R
        </h1>
        <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-neutral-700 mb-8 font-['Poppins'] leading-tight" data-i18n="hero-subtitle">
          Inventario Preciso para una Operaci√≥n sin Errores
        </p>
        <div class="flex flex-wrap gap-4 justify-center">
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            React + TypeScript
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            Supabase
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            PWA
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            Realtime
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- El Desaf√≠o - Bento Box -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] leading-tight" data-i18n="challenge-title">
          üî¥ El Desaf√≠o
        </h2>
        
        <div class="grid grid-cols-12 gap-6">
          <!-- Contenido principal 60% -->
          <div class="col-span-12 md:col-span-7 bg-[#1a1a1a] rounded-2xl p-8 md:p-12 shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_20px_60px_rgba(0,0,0,0.3)] transition-shadow duration-500">
            <p class="text-xl text-neutral-300 mb-6 leading-relaxed font-['Poppins']" data-i18n="challenge-desc">
              Importadora D&R enfrentaba una brecha cr√≠tica: mantener control sobre el stock f√≠sico. La complejidad de gestionar unidades fragmentadas (1 Caja = 32 Displays = 160 Unidades) generaba errores de c√°lculo manual e incertidumbre financiera.
            </p>
            
            <ul class="text-xl text-neutral-300 leading-relaxed font-['Poppins'] space-y-4">
              <li><strong class="text-white">El Problema:</strong> Falta de integridad de datos y p√©rdida de trazabilidad en los despachos.</li>
              <li><strong class="text-white">El Objetivo:</strong> Crear una herramienta m√≥vil que garantice que "lo que se cuenta es lo que se factura".</li>
            </ul>
          </div>
          
          <!-- Card con insight 40% -->
          <div class="col-span-12 md:col-span-5 bg-gradient-to-br from-[#b80000] to-[#8a0000] rounded-2xl p-8 md:p-10 shadow-[0_8px_30px_rgb(184,0,0,0.3)] hover:shadow-[0_20px_60px_rgba(184,0,0,0.4)] transition-shadow duration-500 flex flex-col justify-center">
            <div class="text-7xl font-black text-white/20 mb-4">üì¶</div>
            <h3 class="text-3xl font-['Syne'] font-extrabold text-white mb-4" data-i18n="challenge-insight-title">Brecha Cr√≠tica</h3>
            <p class="text-lg text-white/90 font-['Poppins']" data-i18n="challenge-insight-desc">
              El stock f√≠sico nunca coincid√≠a con las facturas por errores de c√°lculo manual en unidades fragmentadas
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- La Soluci√≥n - Timeline -->
  <section class="journey-section mb-16">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-4xl mx-auto mb-16 text-center">
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-['Syne'] font-bold text-white mb-8 leading-tight" data-i18n="solution-title">
          üî¥ La Soluci√≥n: MVP de Gesti√≥n Inteligente
        </h2>
        
        <p class="text-xl text-neutral-300 font-['Poppins']" data-i18n="solution-intro">
          En lugar de un sistema gen√©rico de inventario, dise√±√© una aplicaci√≥n web progresiva (PWA) orientada a las tres operaciones clave de Importadora D&R:
        </p>
      </div>
      
      <div class="timeline">
        <!-- Item 1: Registro de Despacho -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/Stock_Inventario.png" alt="Stock e Inventario" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3 data-i18n="solution-step1-title">üöö Registro de Despacho</h3>
            <p data-i18n="solution-step1-desc">Bot√≥n directo con icono de cami√≥n para vincular salidas de inventario con √≥rdenes de factura en tiempo real. Cada movimiento queda registrado autom√°ticamente.</p>
          </div>
        </div>
        
        <!-- Item 2: Motor de Conversi√≥n -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/Motor_conversion.png" alt="Motor de Conversi√≥n" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3 data-i18n="solution-step2-title">‚öôÔ∏è Motor de Conversi√≥n</h3>
            <p data-i18n="solution-step2-desc">L√≥gica autom√°tica que convierte unidades fragmentadas sin intervenci√≥n manual del usuario. El sistema normaliza cajas, displays y unidades sin errores humanos.</p>
          </div>
        </div>
        
        <!-- Item 3: Vista de Inventario -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/stock_inventario_2.png" alt="Vista de Inventario" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3 data-i18n="solution-step3-title">üìä Vista de Inventario</h3>
            <p data-i18n="solution-step3-desc">Panel de consulta instant√°nea de stock disponible por producto, sabor y formato. Visibilidad total en tiempo real desde cualquier dispositivo.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Arquitectura - Bento Box Grid -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-8 text-[#111] leading-tight" data-i18n="arch-title">
          üî¥ Arquitectura: Precisi√≥n e Integridad
        </h2>
        
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']" data-i18n="arch-intro">
          Para garantizar datos infalibles, implement√© un stack de alto rendimiento enfocado en la consistencia y la velocidad:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Card 1 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-lg sm:text-xl font-['Syne'] font-bold mb-4 text-white" data-i18n="arch-frontend-title">‚öõÔ∏è Frontend (React + TypeScript)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="arch-frontend-desc">
              Uso de TypeScript para eliminar errores de redondeo en conversiones y PWA para garantizar el funcionamiento en bodegas con baja se√±al
            </p>
          </div>
          
          <!-- Card 2 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-lg sm:text-xl font-['Syne'] font-bold mb-4 text-white" data-i18n="arch-state-title">‚ö° Gesti√≥n de Estado (Zustand + Query)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="arch-state-desc">
              Interfaz ultra-r√°pida con sincronizaci√≥n Realtime, reflejando cambios de stock al instante en todos los dispositivos
            </p>
          </div>
          
          <!-- Card 3 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-lg sm:text-xl font-['Syne'] font-bold mb-4 text-white" data-i18n="arch-backend-title">üì¶ Backend (Supabase/PostgreSQL)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="arch-backend-desc">
              Base de datos relacional con pol√≠ticas RLS (seguridad a nivel de fila) para proteger la integridad de la informaci√≥n sensible
            </p>
          </div>
          
          <!-- Card 4 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-lg sm:text-xl font-['Syne'] font-bold mb-4 text-white" data-i18n="arch-audit-title">üìã L√≥gica de Auditor√≠a</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="arch-audit-desc">
              Registro autom√°tico de transacciones y motor de normalizaci√≥n de stock para eliminar el c√°lculo mental del operario
            </p>
          </div>
          
          <!-- Card 5 destacada -->
          <div class="service-card-3d bg-gradient-to-br from-[#b80000] to-[#8a0000] rounded-2xl p-8 md:col-span-2">
            <h3 class="text-lg sm:text-xl font-['Syne'] font-bold mb-4 text-white" data-i18n="arch-deploy-title">üöÄ Despliegue</h3>
            <p class="text-white/90 font-['Poppins'] leading-relaxed text-lg" data-i18n="arch-deploy-desc">
              CI/CD en Netlify con carga optimizada (&lt; 2s) para un uso m√≥vil intensivo y fluido
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Resultados - Featured Bento -->
  <section class="py-20 bg-[#f5f5f5]">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] text-center leading-tight" data-i18n="results-title">
          üî¥ Resultados
        </h2>
        
        <!-- Featured Bento grande -->
        <div class="service-card-3d bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl p-12 md:p-16">
          <div class="grid md:grid-cols-3 gap-12">
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">100%</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="results-precision">Precisi√≥n</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="results-precision-desc">Eliminaci√≥n total de descuadres entre factura y bodega</p>
            </div>
            
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">80%</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="results-efficiency">Eficiencia</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="results-efficiency-desc">Reducci√≥n del tiempo en el registro de movimientos</p>
            </div>
            
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">24/7</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="results-control">Control</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="results-control-desc">Trazabilidad completa de la operaci√≥n desde el bolsillo del cliente</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Roadmap - Bento Grid -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-8 text-[#111] leading-tight" data-i18n="roadmap-title">
          üó∫Ô∏è Roadmap: Pr√≥ximos Pasos
        </h2>
        
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']" data-i18n="roadmap-intro">
          El MVP es solo el inicio de la digitalizaci√≥n de Importadora D&R. El plan de evoluci√≥n incluye:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="roadmap-qr-title">üì± Escaneo QR/Barra</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="roadmap-qr-desc">
              Integraci√≥n de la c√°mara para registrar despachos instant√°neamente sin selecci√≥n manual
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="roadmap-notif-title">üîî Notificaciones Inteligentes</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="roadmap-notif-desc">
              Alertas push al m√≥vil cuando un sabor espec√≠fico alcance su l√≠mite cr√≠tico de stock
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="roadmap-analytics-title">üìä Anal√≠tica de Ventas</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="roadmap-analytics-desc">
              Panel de visualizaci√≥n con los productos de mayor rotaci√≥n y reportes de rendimiento mensual
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white" data-i18n="roadmap-offline-title">üì∂ Modo Offline Avanzado</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed" data-i18n="roadmap-offline-desc">
              Capacidad de registrar movimientos sin conexi√≥n para sincronizaci√≥n autom√°tica al recuperar se√±al
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Aprendizaje Principal -->
  <section class="py-20 bg-[#f5f5f5]">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] text-center leading-tight" data-i18n="learning-title">
          üí° Aprendizaje Principal
        </h2>
        
        <!-- Quote Card -->
        <div class="service-card-3d bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl p-12 md:p-16">
          <blockquote class="mb-8">
            <p class="text-3xl md:text-4xl font-['Special_Elite'] text-white italic leading-relaxed mb-6" data-i18n="learning-quote">
              "Entender la l√≥gica del negocio en terreno fue la clave del √©xito."
            </p>
          </blockquote>
          
          <p class="text-lg text-neutral-300 leading-relaxed font-['Poppins']" data-i18n="learning-desc">
            El mayor aprendizaje de este proyecto no fue t√©cnico, sino estrat√©gico: la verdadera soluci√≥n no se dise√±√≥ en el escritorio, sino observando la operaci√≥n real. Comprender c√≥mo se mueven las cajas en la bodega y c√≥mo se gestionan las facturas permiti√≥ que el despliegue del MVP fuera natural y de adopci√≥n inmediata para el usuario. Dise√±ar para el contexto real redujo la fricci√≥n y garantiz√≥ la integridad de los datos desde el primer d√≠a.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-32">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-['Syne'] font-extrabold mb-6 text-[#111] leading-tight" data-i18n="cta-title">
          Ver el MVP en Producci√≥n
        </h2>
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']" data-i18n="cta-subtitle">
          El sistema est√° desplegado y funcionando en tiempo real
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="https://stockimportadoradr.netlify.app" 
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-8 py-4 bg-[#b80000] hover:bg-[#8a0000] text-white font-['Poppins'] font-semibold rounded-xl transition-all duration-300 shadow-lg shadow-[#b80000]/30 hover:shadow-xl hover:shadow-[#b80000]/40"
          >
            <span data-i18n="cta-open">Abrir MVP</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
            </svg>
          </a>
          <a 
            href="/#contacto" 
            class="px-8 py-4 bg-[#1a1a1a] hover:bg-[#2a2a2a] text-white font-['Poppins'] font-semibold rounded-xl transition-all duration-300 shadow-lg shadow-black/20 hover:shadow-xl hover:shadow-black/30"
          >
            <span data-i18n="cta-contact">Contactar</span>
          </a>
          <a 
            href="/" 
            class="px-8 py-4 border-2 border-[#1a1a1a] hover:bg-[#1a1a1a] text-[#1a1a1a] hover:text-white font-['Poppins'] font-semibold rounded-xl transition-all duration-300"
          >
            <span data-i18n="cta-home">Volver al Inicio</span>
          </a>
        </div>
      </div>
    </div>
  </section>

  <Footer />

  <script>
    // Animaciones de scroll para timeline items
    document.addEventListener('DOMContentLoaded', () => {
      const timelineItems = document.querySelectorAll('.timeline-item');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      
      timelineItems.forEach(item => {
        observer.observe(item);
      });

      // Sistema de traducci√≥n
      const translations = {
        es: {
          'hero-subtitle': 'Inventario Preciso para una Operaci√≥n sin Errores',
          'challenge-title': 'üî¥ El Desaf√≠o',
          'challenge-desc': 'Crhistian Dias (42), empresario importador, enfrentaba una brecha cr√≠tica: el stock f√≠sico en bodega nunca coincid√≠a con las facturas. La complejidad de gestionar unidades fragmentadas (1 Caja = 32 Displays = 160 Unidades) generaba errores de c√°lculo manual e incertidumbre financiera.',
          'challenge-problem': 'El Problema: Falta de integridad de datos y p√©rdida de trazabilidad en los despachos.',
          'challenge-goal': 'El Objetivo: Crear una herramienta m√≥vil que garantice que "lo que se cuenta es lo que se factura".',
          'challenge-insight-title': 'Brecha Cr√≠tica',
          'challenge-insight-desc': 'El stock f√≠sico nunca coincid√≠a con las facturas por errores de c√°lculo manual en unidades fragmentadas',
          'solution-title': 'üî¥ La Soluci√≥n: MVP de Gesti√≥n Inteligente',
          'solution-intro': 'En lugar de un sistema gen√©rico de inventario, dise√±√© una aplicaci√≥n web progresiva (PWA) orientada a las tres operaciones clave de Importadora D&R:',
          'solution-step1-title': 'üöö Registro de Despacho',
          'solution-step1-desc': 'Bot√≥n directo con icono de cami√≥n para vincular salidas de inventario con √≥rdenes de factura en tiempo real. Cada movimiento queda registrado autom√°ticamente.',
          'solution-step2-title': '‚öôÔ∏è Motor de Conversi√≥n',
          'solution-step2-desc': 'L√≥gica autom√°tica que convierte unidades fragmentadas sin intervenci√≥n manual del usuario. El sistema normaliza cajas, displays y unidades sin errores humanos.',
          'solution-step3-title': 'üìä Vista de Inventario',
          'solution-step3-desc': 'Panel de consulta instant√°nea de stock disponible por producto, sabor y formato. Visibilidad total en tiempo real desde cualquier dispositivo.',
          'arch-title': 'üî¥ Arquitectura: Precisi√≥n e Integridad',
          'arch-intro': 'Para garantizar datos infalibles, implement√© un stack de alto rendimiento enfocado en la consistencia y la velocidad:',
          'arch-frontend-title': '‚öõÔ∏è Frontend (React + TypeScript)',
          'arch-frontend-desc': 'Uso de TypeScript para eliminar errores de redondeo en conversiones y PWA para garantizar el funcionamiento en bodegas con baja se√±al',
          'arch-state-title': '‚ö° Gesti√≥n de Estado (Zustand + Query)',
          'arch-state-desc': 'Interfaz ultra-r√°pida con sincronizaci√≥n Realtime, reflejando cambios de stock al instante en todos los dispositivos',
          'arch-backend-title': 'üì¶ Backend (Supabase/PostgreSQL)',
          'arch-backend-desc': 'Base de datos relacional con pol√≠ticas RLS (seguridad a nivel de fila) para proteger la integridad de la informaci√≥n sensible',
          'arch-audit-title': 'üìã L√≥gica de Auditor√≠a',
          'arch-audit-desc': 'Registro autom√°tico de transacciones y motor de normalizaci√≥n de stock para eliminar el c√°lculo mental del operario',
          'arch-deploy-title': 'üöÄ Despliegue',
          'arch-deploy-desc': 'CI/CD en Netlify con carga optimizada (< 2s) para un uso m√≥vil intensivo y fluido',
          'results-title': 'üî¥ Resultados',
          'results-precision': 'Precisi√≥n',
          'results-precision-desc': 'Eliminaci√≥n total de descuadres entre factura y bodega',
          'results-efficiency': 'Eficiencia',
          'results-efficiency-desc': 'Reducci√≥n del tiempo en el registro de movimientos',
          'results-control': 'Control',
          'results-control-desc': 'Trazabilidad completa de la operaci√≥n desde el bolsillo del cliente',
          'roadmap-title': 'üó∫Ô∏è Roadmap: Pr√≥ximos Pasos',
          'roadmap-intro': 'El MVP es solo el inicio de la digitalizaci√≥n de Importadora D&R. El plan de evoluci√≥n incluye:',
          'roadmap-qr-title': 'üì± Escaneo QR/Barra',
          'roadmap-qr-desc': 'Integraci√≥n de la c√°mara para registrar despachos instant√°neamente sin selecci√≥n manual',
          'roadmap-notif-title': 'üîî Notificaciones Inteligentes',
          'roadmap-notif-desc': 'Alertas push al m√≥vil cuando un sabor espec√≠fico alcance su l√≠mite cr√≠tico de stock',
          'roadmap-analytics-title': 'üìä Anal√≠tica de Ventas',
          'roadmap-analytics-desc': 'Panel de visualizaci√≥n con los productos de mayor rotaci√≥n y reportes de rendimiento mensual',
          'roadmap-offline-title': 'üì∂ Modo Offline Avanzado',
          'roadmap-offline-desc': 'Capacidad de registrar movimientos sin conexi√≥n para sincronizaci√≥n autom√°tica al recuperar se√±al',
          'learning-title': 'üí° Aprendizaje Principal',
          'learning-quote': 'Entender la l√≥gica del negocio en terreno fue la clave del √©xito.',
          'learning-desc': 'El mayor aprendizaje de este proyecto no fue t√©cnico, sino estrat√©gico: la verdadera soluci√≥n no se dise√±√≥ en el escritorio, sino observando la operaci√≥n real. Comprender c√≥mo se mueven las cajas en la bodega y c√≥mo se gestionan las facturas permiti√≥ que el despliegue del MVP fuera natural y de adopci√≥n inmediata para el usuario. Dise√±ar para el contexto real redujo la fricci√≥n y garantiz√≥ la integridad de los datos desde el primer d√≠a.',
          'cta-title': 'Ver el MVP en Producci√≥n',
          'cta-subtitle': 'El sistema est√° desplegado y funcionando en tiempo real',
          'cta-open': 'Abrir MVP',
          'cta-contact': 'Contactar',
          'cta-home': 'Volver al Inicio'
        },
        en: {
          'hero-subtitle': 'Accurate Inventory for an Error-Free Operation',
          'challenge-title': 'üî¥ The Challenge',
          'challenge-desc': 'Crhistian Dias (42), import business owner, faced a critical gap: physical stock in warehouse never matched invoices. The complexity of managing fragmented units (1 Box = 32 Displays = 160 Units) generated manual calculation errors and financial uncertainty.',
          'challenge-problem': 'The Problem: Lack of data integrity and loss of traceability in dispatches.',
          'challenge-goal': 'The Goal: Create a mobile tool that ensures "what is counted is what is invoiced".',
          'challenge-insight-title': 'Critical Gap',
          'challenge-insight-desc': 'Physical stock never matched invoices due to manual calculation errors in fragmented units',
          'solution-title': 'üî¥ The Solution: Smart Management MVP',
          'solution-intro': 'Instead of a generic inventory system, I designed a progressive web application (PWA) focused on the three key operations of Importadora D&R:',
          'solution-step1-title': 'üöö Dispatch Registry',
          'solution-step1-desc': 'Direct button with truck icon to link inventory outputs with invoice orders in real time. Every movement is automatically recorded.',
          'solution-step2-title': '‚öôÔ∏è Conversion Engine',
          'solution-step2-desc': 'Automatic logic that converts fragmented units without manual user intervention. The system normalizes boxes, displays and units without human errors.',
          'solution-step3-title': 'üìä Inventory View',
          'solution-step3-desc': 'Instant query panel of available stock by product, flavor and format. Total real-time visibility from any device.',
          'arch-title': 'üî¥ Architecture: Precision and Integrity',
          'arch-intro': 'To ensure infallible data, I implemented a high-performance stack focused on consistency and speed:',
          'arch-frontend-title': '‚öõÔ∏è Frontend (React + TypeScript)',
          'arch-frontend-desc': 'Use of TypeScript to eliminate rounding errors in conversions and PWA to ensure operation in warehouses with low signal',
          'arch-state-title': '‚ö° State Management (Zustand + Query)',
          'arch-state-desc': 'Ultra-fast interface with Realtime synchronization, reflecting stock changes instantly on all devices',
          'arch-backend-title': 'üì¶ Backend (Supabase/PostgreSQL)',
          'arch-backend-desc': 'Relational database with RLS policies (row level security) to protect the integrity of sensitive information',
          'arch-audit-title': 'üìã Audit Logic',
          'arch-audit-desc': 'Automatic transaction logging and stock normalization engine to eliminate operator mental calculation',
          'arch-deploy-title': 'üöÄ Deployment',
          'arch-deploy-desc': 'CI/CD on Netlify with optimized load (< 2s) for intensive and fluid mobile use',
          'results-title': 'üî¥ Results',
          'results-precision': 'Precision',
          'results-precision-desc': 'Total elimination of discrepancies between invoice and warehouse',
          'results-efficiency': 'Efficiency',
          'results-efficiency-desc': 'Reduction of time in movement registration',
          'results-control': 'Control',
          'results-control-desc': 'Complete operation traceability from the client\'s pocket',
          'roadmap-title': 'üó∫Ô∏è Roadmap: Next Steps',
          'roadmap-intro': 'The MVP is only the beginning of Importadora D&R digitalization. The evolution plan includes:',
          'roadmap-qr-title': 'üì± QR/Barcode Scanning',
          'roadmap-qr-desc': 'Camera integration to register dispatches instantly without manual selection',
          'roadmap-notif-title': 'üîî Smart Notifications',
          'roadmap-notif-desc': 'Push alerts to mobile when a specific flavor reaches its critical stock limit',
          'roadmap-analytics-title': 'üìä Sales Analytics',
          'roadmap-analytics-desc': 'Visualization panel with the highest rotation products and monthly performance reports',
          'roadmap-offline-title': 'üì∂ Advanced Offline Mode',
          'roadmap-offline-desc': 'Ability to register movements without connection for automatic synchronization when signal is recovered',
          'learning-title': 'üí° Main Learning',
          'learning-quote': 'Understanding the business logic in the field was the key to success.',
          'learning-desc': 'The greatest learning from this project was not technical, but strategic: the real solution was not designed at the desk, but by observing the actual operation. Understanding how boxes move in the warehouse and how invoices are managed allowed the MVP deployment to be natural and immediately adopted by the user. Designing for the real context reduced friction and ensured data integrity from day one.',
          'cta-title': 'View MVP in Production',
          'cta-subtitle': 'The system is deployed and running in real time',
          'cta-open': 'Open MVP',
          'cta-contact': 'Contact',
          'cta-home': 'Back to Home'
        }
      };

      function applyTranslations(locale: string) {
        const t = translations[locale as 'es' | 'en'] || translations.es;
        
        document.querySelectorAll('[data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          if (key && t[key as keyof typeof t]) {
            if (element.children.length === 0) {
              element.textContent = t[key as keyof typeof t];
            } else {
              const textNodes = Array.from(element.childNodes).filter(node => node.nodeType === 3);
              if (textNodes.length > 0) {
                element.textContent = t[key as keyof typeof t];
              }
            }
          }
        });
      }

      // Aplicar traducciones al cargar
      const savedLocale = localStorage.getItem('locale') || 'es';
      applyTranslations(savedLocale);

      // Escuchar cambios de idioma
      window.addEventListener('localeChanged', (event: Event) => {
        const customEvent = event as CustomEvent<string>;
        applyTranslations(customEvent.detail);
      });
    });
  </script>
</Layout>
