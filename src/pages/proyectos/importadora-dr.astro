---
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';
import { InventoryScanner } from '../../components/InventoryScanner';
---

<Layout 
  title="Caso de √âxito: Importadora D&R - Jorge Cabrera"
  description="Soluci√≥n ERP que elimin√≥ los descuadres de inventario. Del caos al orden con tecnolog√≠a moderna."
>
  <Navbar />
  
  <!-- Hero con efecto Scanner de Inventario -->
  <section class="relative min-h-[60vh] flex items-center justify-center overflow-hidden pt-20 bg-[#FAF9F6]">
    <!-- Scanner de Inventario Animado -->
    <InventoryScanner client:load />
    
    <div class="container mx-auto px-4 sm:px-6 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-['Syne'] font-extrabold mb-6 text-[#111] leading-tight">
          Importadora D&R
        </h1>
        <p class="text-lg sm:text-xl md:text-2xl lg:text-3xl text-neutral-700 mb-8 font-['Poppins'] leading-tight">
          Inventario Preciso para una Operaci√≥n sin Errores
        </p>
        <div class="flex flex-wrap gap-4 justify-center">
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            React + TypeScript
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            Supabase
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            PWA
          </span>
          <span class="px-6 py-3 bg-[#1a1a1a] rounded-xl text-sm text-white font-['Poppins'] shadow-lg shadow-black/20">
            Realtime
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- El Desaf√≠o - Bento Box -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] leading-tight">
          üî¥ El Desaf√≠o
        </h2>
        
        <div class="grid grid-cols-12 gap-6">
          <!-- Contenido principal 60% -->
          <div class="col-span-12 md:col-span-7 bg-[#1a1a1a] rounded-2xl p-8 md:p-12 shadow-[0_8px_30px_rgb(0,0,0,0.12)] hover:shadow-[0_20px_60px_rgba(0,0,0,0.3)] transition-shadow duration-500">
            <p class="text-xl text-neutral-300 mb-6 leading-relaxed font-['Poppins']">
              Crhistian Dias (42), empresario importador, enfrentaba una brecha cr√≠tica: <strong class="text-white">el stock f√≠sico en bodega nunca coincid√≠a con las facturas</strong>. La complejidad de gestionar unidades fragmentadas (1 Caja = 32 Displays = 160 Unidades) generaba errores de c√°lculo manual e incertidumbre financiera.
            </p>
            
            <ul class="text-xl text-neutral-300 leading-relaxed font-['Poppins'] space-y-4">
              <li><strong class="text-white">El Problema:</strong> Falta de integridad de datos y p√©rdida de trazabilidad en los despachos.</li>
              <li><strong class="text-white">El Objetivo:</strong> Crear una herramienta m√≥vil que garantice que "lo que se cuenta es lo que se factura".</li>
            </ul>
          </div>
          
          <!-- Card con insight 40% -->
          <div class="col-span-12 md:col-span-5 bg-gradient-to-br from-[#b80000] to-[#8a0000] rounded-2xl p-8 md:p-10 shadow-[0_8px_30px_rgb(184,0,0,0.3)] hover:shadow-[0_20px_60px_rgba(184,0,0,0.4)] transition-shadow duration-500 flex flex-col justify-center">
            <div class="text-7xl font-black text-white/20 mb-4">üì¶</div>
            <h3 class="text-3xl font-['Syne'] font-extrabold text-white mb-4">Brecha Cr√≠tica</h3>
            <p class="text-lg text-white/90 font-['Poppins']">
              El stock f√≠sico nunca coincid√≠a con las facturas por errores de c√°lculo manual en unidades fragmentadas
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- La Soluci√≥n - Timeline -->
  <section class="journey-section mb-16">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-4xl mx-auto mb-16 text-center">
        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-['Syne'] font-bold text-white mb-8 leading-tight">
          üî¥ La Soluci√≥n: MVP de Gesti√≥n Inteligente
        </h2>
        
        <p class="text-xl text-neutral-300 font-['Poppins']">
          En lugar de un sistema gen√©rico de inventario, dise√±√© una <strong class="text-white">aplicaci√≥n web progresiva (PWA)</strong> orientada a las tres operaciones clave de Importadora D&R:
        </p>
      </div>
      
      <div class="timeline">
        <!-- Item 1: Registro de Despacho -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/Stock_Inventario.png" alt="Stock e Inventario" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3>üöö Registro de Despacho</h3>
            <p>Bot√≥n directo con icono de cami√≥n para vincular salidas de inventario con √≥rdenes de factura en tiempo real. <strong>Cada movimiento queda registrado autom√°ticamente.</strong></p>
          </div>
        </div>
        
        <!-- Item 2: Motor de Conversi√≥n -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/Motor_conversion.png" alt="Motor de Conversi√≥n" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3>‚öôÔ∏è Motor de Conversi√≥n</h3>
            <p>L√≥gica autom√°tica que convierte unidades fragmentadas sin intervenci√≥n manual del usuario. <strong>El sistema normaliza cajas, displays y unidades sin errores humanos.</strong></p>
          </div>
        </div>
        
        <!-- Item 3: Vista de Inventario -->
        <div class="timeline-item">
          <div class="timeline-image">
            <img src="/img/stock_inventario_2.png" alt="Vista de Inventario" class="w-full h-64 object-cover rounded-2xl">
          </div>
          <div class="timeline-content">
            <h3>üìä Vista de Inventario</h3>
            <p>Panel de consulta instant√°nea de stock disponible por producto, sabor y formato. <strong>Visibilidad total en tiempo real desde cualquier dispositivo.</strong></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Arquitectura - Bento Box Grid -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-8 text-[#111] leading-tight">
          üî¥ Arquitectura: Precisi√≥n e Integridad
        </h2>
        
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']">
          Para garantizar datos infalibles, implement√© un stack de alto rendimiento enfocado en la <strong class="text-[#111]">consistencia y la velocidad</strong>:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Card 1 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-4 text-white">‚öõÔ∏è Frontend (React + TypeScript)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Uso de <strong>TypeScript</strong> para eliminar errores de redondeo en conversiones y <strong>PWA</strong> para garantizar el funcionamiento en bodegas con baja se√±al
            </p>
          </div>
          
          <!-- Card 2 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-4 text-white">‚ö° Gesti√≥n de Estado (Zustand + Query)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Interfaz ultra-r√°pida con sincronizaci√≥n <strong>Realtime</strong>, reflejando cambios de stock al instante en todos los dispositivos
            </p>
          </div>
          
          <!-- Card 3 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-4 text-white">üì¶ Backend (Supabase/PostgreSQL)</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Base de datos relacional con pol√≠ticas <strong>RLS</strong> (seguridad a nivel de fila) para proteger la integridad de la informaci√≥n sensible
            </p>
          </div>
          
          <!-- Card 4 -->
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-4 text-white">üìã L√≥gica de Auditor√≠a</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Registro autom√°tico de transacciones y motor de normalizaci√≥n de stock para eliminar el c√°lculo mental del operario
            </p>
          </div>
          
          <!-- Card 5 destacada -->
          <div class="service-card-3d bg-gradient-to-br from-[#b80000] to-[#8a0000] rounded-2xl p-8 md:col-span-2">
            <h3 class="text-2xl font-['Syne'] font-bold mb-4 text-white">üöÄ Despliegue</h3>
            <p class="text-white/90 font-['Poppins'] leading-relaxed text-lg">
              CI/CD en Netlify con carga optimizada <strong>(&lt; 2s)</strong> para un uso m√≥vil intensivo y fluido
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Resultados - Featured Bento -->
  <section class="py-20 bg-[#f5f5f5]">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] text-center leading-tight">
          üî¥ Resultados
        </h2>
        
        <!-- Featured Bento grande -->
        <div class="service-card-3d bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl p-12 md:p-16">
          <div class="grid md:grid-cols-3 gap-12">
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">100%</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">Precisi√≥n</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed">Eliminaci√≥n total de descuadres entre factura y bodega</p>
            </div>
            
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">80%</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">Eficiencia</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed">Reducci√≥n del tiempo en el registro de movimientos</p>
            </div>
            
            <div class="text-center">
              <div class="text-6xl md:text-7xl font-black text-[#b80000] mb-6 font-['Syne']">24/7</div>
              <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">Control</h3>
              <p class="text-neutral-400 font-['Poppins'] leading-relaxed">Trazabilidad completa de la operaci√≥n desde el bolsillo del cliente</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Roadmap - Bento Grid -->
  <section class="py-20">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-8 text-[#111] leading-tight">
          üó∫Ô∏è Roadmap: Pr√≥ximos Pasos
        </h2>
        
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']">
          El MVP es solo el inicio de la digitalizaci√≥n de <strong class="text-[#111]">Importadora D&R</strong>. El plan de evoluci√≥n incluye:
        </p>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">üì± Escaneo QR/Barra</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Integraci√≥n de la c√°mara para registrar despachos instant√°neamente sin selecci√≥n manual
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">üîî Notificaciones Inteligentes</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Alertas <em>push</em> al m√≥vil cuando un sabor espec√≠fico alcance su l√≠mite cr√≠tico de stock
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">üìä Anal√≠tica de Ventas</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Panel de visualizaci√≥n con los productos de mayor rotaci√≥n y reportes de rendimiento mensual
            </p>
          </div>
          
          <div class="service-card-3d bg-[#1a1a1a] rounded-2xl p-8">
            <h3 class="text-2xl font-['Syne'] font-bold mb-3 text-white">üì∂ Modo Offline Avanzado</h3>
            <p class="text-neutral-400 font-['Poppins'] leading-relaxed">
              Capacidad de registrar movimientos sin conexi√≥n para sincronizaci√≥n autom√°tica al recuperar se√±al
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Aprendizaje Principal -->
  <section class="py-20 bg-[#f5f5f5]">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-5xl mx-auto">
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-['Syne'] font-extrabold mb-12 text-[#111] text-center leading-tight">
          üí° Aprendizaje Principal
        </h2>
        
        <!-- Quote Card -->
        <div class="service-card-3d bg-gradient-to-br from-[#1a1a1a] to-[#2a2a2a] rounded-3xl p-12 md:p-16">
          <blockquote class="mb-8">
            <p class="text-3xl md:text-4xl font-['Special_Elite'] text-white italic leading-relaxed mb-6">
              "Entender la l√≥gica del negocio en terreno fue la clave del √©xito."
            </p>
          </blockquote>
          
          <p class="text-lg text-neutral-300 leading-relaxed font-['Poppins']">
            El mayor aprendizaje de este proyecto no fue t√©cnico, sino estrat√©gico: la verdadera soluci√≥n no se dise√±√≥ en el escritorio, sino observando la operaci√≥n real. Comprender c√≥mo se mueven las cajas en la bodega y c√≥mo se gestionan las facturas permiti√≥ que el despliegue del MVP fuera natural y de adopci√≥n inmediata para el usuario. <strong class="text-white">Dise√±ar para el contexto real redujo la fricci√≥n y garantiz√≥ la integridad de los datos desde el primer d√≠a.</strong>
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="py-32">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-['Syne'] font-extrabold mb-6 text-[#111] leading-tight">
          Ver el MVP en Producci√≥n
        </h2>
        <p class="text-xl text-neutral-700 mb-12 font-['Poppins']">
          El sistema est√° desplegado y funcionando en tiempo real
        </p>
        
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a 
            href="https://stockimportadoradr.netlify.app" 
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 px-8 py-4 bg-[#b80000] hover:bg-[#8a0000] text-white font-['Poppins'] font-semibold rounded-xl transition-all duration-300 shadow-lg shadow-[#b80000]/30 hover:shadow-xl hover:shadow-[#b80000]/40"
          >
            Abrir MVP
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
            </svg>
          </a>
          <a 
            href="/" 
            class="px-8 py-4 bg-[#1a1a1a] hover:bg-[#2a2a2a] text-white font-['Poppins'] font-semibold rounded-xl transition-all duration-300 shadow-lg shadow-black/20 hover:shadow-xl hover:shadow-black/30"
          >
            Volver al Inicio
          </a>
        </div>
      </div>
    </div>
  </section>

  <Footer />

  <script>
    // Animaciones de scroll para timeline items
    document.addEventListener('DOMContentLoaded', () => {
      const timelineItems = document.querySelectorAll('.timeline-item');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      
      timelineItems.forEach(item => {
        observer.observe(item);
      });
    });
  </script>
</Layout>
